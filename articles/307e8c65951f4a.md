---
title: "Debugger for Rust: FireDBG"
emoji: "ğŸŒ„"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["rust", "debug", "firedbg"]
published: false
---

2024å¹´ã®ã‚¹ã‚¿ãƒ¼ãƒˆã€‚2024å¹´ã‚‚å€‹äºº blog ã‚’ç¶™ç¶šã™ã‚‹ã€‚

FireDBG[^2] ã¨ã„ã† Rust ã® Debugger ã‚’è©¦ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/bb5186fc4ad5-20240102.png)

![](https://storage.googleapis.com/zenn-user-upload/ebc3f50621e0-20240103.png)

https://github.com/danny-yamamoto/rust-api-samples-rocket

## tl;dr
- ç¾æ™‚ç‚¹ã§èª¿ã¹ã‚‹é™ã‚Šã§ã¯ã€FireDBG ã¯ã€Apple ã‚·ãƒªã‚³ãƒ³ã®å½±éŸ¿ã§ Dev Container ã§å‹•ã‹ã›ãªã„ã€‚Cloud Workstations[^3] ã§ FireDBG ã‚’æ¤œè¨¼ã—ãŸã€‚
- `info: completed FireDBG self tests` ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚Œã° install ã¯å®Œäº†ã€‚
- `.ss` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ FireDBG ã§é–‹ãã¨ã€VS Code ã®ç”»é¢ã§ debug ã§ãã‚‹ã€‚

## Environment
* Cloud Workstations
    * OS
        * Ubuntu 20.04.6 LTS
    * Rust
        * cargo 1.74.1 (ecb9851af 2023-10-18)
        * rustc 1.74.1 (a28077b28 2023-12-04)
        * rustup 1.26.0 (5af9b9484 2023-04-05)
    * IDE
        * Code-OSS

## Getting Started[^1]
```bash
user@rust:~/FireDBG.Rust.Testbench$ curl https://raw.githubusercontent.com/SeaQL/FireDBG.for.Rust/main/install.sh -sSf | sh
info: downloading FireDBG from `https://github.com/SeaQL/FireDBG.for.Rust/releases/download/1.74.2/x86_64-ubuntu20.04.tar.gz`
info: installing FireDBG binaries to `/home/user/.cargo/bin`
info: performing FireDBG self tests
     Tracing `firedbg.toml` config file not found, default settings will be applied
     Tracing debugger_self_test = { trace = "full" }
      Parsed 2 source files; re-cached 2 source files
   Compiling firedbg-lib v0.1.2
   Compiling debugger_self_test v1.74.2 (/home/user/.cargo/bin/firedbg-lib/debugger-self-test)
    Finished dev [unoptimized + debuginfo] target(s) in 1.76s
     Running `LD_LIBRARY_PATH="/home/user/.cargo/bin/firedbg-lib/lib" "/home/user/.cargo/bin/firedbg-debugger" "run" "/home/user/.cargo/bin/firedbg-lib/debugger-self-test/target/debug/debugger_self_test" "--workspace-root" "/home/user/.cargo/bin/firedbg-lib/debugger-self-test" "--output" "/home/user/.cargo/bin/firedbg-lib/debugger-self-test/output.firedbg.ss" "--package-name" "debugger_self_test" "--package" "./full"`
Testing call_chain
Testing for_range
Testing hash_map
Testing return_char
Testing return_enum
Testing return_value
Testing return_object
Testing return_option
Testing return_result
Testing return_struct
Testing return_pointer
Testing return_ref_mut
Testing fn_return
info: completed FireDBG self tests
user@rust:~/FireDBG.Rust.Testbench$
```

- REST API ã®å®Ÿè£…ã§ä½¿ç”¨ã—ãŸ Axum ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã€‚
```bash
user@rust:~/rust-api-samples-rocket/axum$ firedbg list-target
   Upgrading FireDBG version

Available binaries are:
        axum
user@rust:~/rust-api-samples-rocket/axum$
```

```bash
user@rust:~/rust-api-samples-rocket/axum$ firedbg run axum
     Tracing `firedbg.toml` config file not found, default settings will be applied
     Tracing axum = { trace = "full" }
      Parsed 13 source files; re-cached 5 source files
    Finished dev [unoptimized + debuginfo] target(s) in 0.17s
     Running `LD_LIBRARY_PATH="/home/user/.cargo/bin/firedbg-lib/lib" "/home/user/.cargo/bin/firedbg-debugger" "run" "/home/user/rust-api-samples-rocket/axum/target/debug/axum" "--workspace-root" "/home/user/rust-api-samples-rocket/axum" "--output" "/home/user/rust-api-samples-rocket/axum/firedbg/target/axum-1704180031405.firedbg.ss" "--package-name" "axum" "--package" "./full"`
user@rust:~/rust-api-samples-rocket/axum$
```

FireDBG ã«é–¢ã™ã‚‹æ¤œè¨¼ã¯ä»¥ä¸Šã€‚

## BTW
FireDBG ã‚’ M1 ã® VSCode Dev Container ã§å‹•ã‹ã™æ–¹æ³•ãŒã¾ã ä¸æ˜ã€‚

FireDBG ã® install ãŒä¸Šæ‰‹ãã„ãã¾ã›ã‚“ã§ã—ãŸã€‚èª¿æŸ»ã‚’ç¶™ç¶šã™ã‚‹ã€‚

[^1]: https://firedbg.sea-ql.org/blog/2023-12-13-getting-started/
[^2]: https://firedbg.sea-ql.org/
[^3]: https://cloud.google.com/workstations/docs
